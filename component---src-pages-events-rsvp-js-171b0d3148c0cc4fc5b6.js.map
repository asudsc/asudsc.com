{"version":3,"sources":["webpack:///./src/pages/events/rsvp.js","webpack:///./node_modules/react-loading-animation/lib/index.js"],"names":["Loading","require","RSVP","props","state","loading","error","success","eventInfo","rsvp","getUrlVars","vars","window","location","href","replace","m","key","value","componentDidMount","id","this","token","events","getEvent","then","r","getRSVP","setState","catch","err","render","showLogo","container","justify","pt","isLoading","width","height","strokeWidth","name","p","variant","theme","React","Component","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","Constructor","protoProps","staticProps","prototype","PropTypes","loading_style","position","margin","svg_style","animation","transformOrigin","top","bottom","left","right","circle_style","strokeDasharray","strokeDashoffset","strokeLinecap","_React$Component","instance","TypeError","_classCallCheck","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_props","component","className","children","_props2","style","createElement","assign","viewBox","cx","cy","fill","strokeMiterlimit","propTypes","string","bool","object","any","defaultProps","module","exports","varArgs","to","index","nextSource","nextKey","hasOwnProperty"],"mappings":"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","file":"component---src-pages-events-rsvp-js-171b0d3148c0cc4fc5b6.js","sourcesContent":["import React from 'react';\nimport { Box, Grid } from \"@material-ui/core\";\nimport events from \"../../controllers/events\";\nimport Button from \"../../components/Button\";\nimport Header from \"../../components/header\";\nconst Loading = require('react-loading-animation');\n\nexport default class RSVP extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            loading: true,\n            error: false,\n            success: false,\n            eventInfo: {},\n            rsvp: ''\n        }\n    }\n\n    getUrlVars() {\n        var vars = {};\n        var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n            vars[key] = value;\n        });\n        return vars;\n    }\n\n\n    componentDidMount() {\n        let id = this.getUrlVars()[\"id\"];\n        let token = this.getUrlVars()[\"token\"];\n        if (id && token) {\n            events.getEvent(id).then((r) => {\n                events.getRSVP(id, token).then((rsvp) => {\n                    this.setState({\n                        success: true,\n                        loading: false,\n                        eventInfo: r,\n                        rsvp\n                    });\n                })\n            }).catch((err) => {\n                this.setState({\n                    'error': true\n                })\n            });\n        } else {\n            this.setState({\n                'error': true\n            });\n        }\n\n        // let going_button = document.getElementById('going_button');\n        // let not_going_button = document.getElementById('not_going_button');\n\n        // going_button.onclick = function()  {\n\n        // }\n\n        // not_going_button.onclick = function() {\n\n        // }\n\n    }\n\n    render() {\n        return (\n            <Header showLogo={true}>\n                <Grid container justify={\"center\"}>\n                    <Box pt={25}>\n                        <div>\n                            {this.state.loading && !this.state.error &&\n                                <div>\n                                    <Loading\n                                        isLoading={this.state.loading}\n                                        width={80}\n                                        height={80}\n                                        strokeWidth={4}\n                                    >\n                                    </Loading>\n                                    <Box pt={5}>\n                                        <h1>Loading event details...</h1>\n                                    </Box>\n                                </div>\n                            }\n                            {\n                                this.state.error &&\n                                <div>\n                                    <h1>Couldn't fetch the details of that event</h1>\n                                    <br />\n                                    <p>That event may have been deleted, or may be a private one.</p>\n                                </div>\n                            }\n                            {\n                                this.state.success && !this.state.error &&\n                                <div>\n                                    <h1>{this.state.eventInfo.name}</h1>\n                                    <br />\n                                    <h3>\n                                        {this.state.rsvp == \"invited\" &&\n                                            \"You are currently invited for this event, will you be going for this event?\"\n                                        }\n                                        {this.state.rsvp == \"going\" &&\n                                            \"All good! You are going for this event.\"\n                                        }\n                                        {this.state.rsvp == \"not_going\" &&\n                                            \"You've responded with Not Going for this event\"\n                                        }\n                                    </h3>\n                                    <br />\n                                    <br />\n                                    <Grid container justify={\"center\"}>\n                                        <Box p={2}>\n                                            <Button variant={\"contained\"} theme={\"blue\"} id={\"going_button\"}>\n                                                Yes, I'm going!\n                                            </Button>\n                                        </Box>\n                                        <Box p={2}>\n                                            <Button variant={\"contained\"} theme={\"red\"} id={\"not_going_button\"}>\n                                                Nope, I can't go :(\n                                            </Button>\n                                        </Box>\n                                    </Grid>\n                                </div>\n                            }\n                        </div>\n                    </Box>\n                </Grid>\n            </Header>\n        )\n    }\n}","'use strict';\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types');\n\nvar loading_style = {\n  position: 'relative',\n  margin: '0px auto',\n  width: '40px',\n  height: '40px'\n};\nvar svg_style = {\n  animation: 'rotate 2s linear infinite',\n  height: '100%',\n  transformOrigin: 'center center',\n  width: '100%',\n  position: 'absolute',\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n  margin: 'auto'\n};\nvar circle_style = {\n  strokeDasharray: '1,200',\n  strokeDashoffset: '0',\n  animation: 'dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite',\n  strokeLinecap: 'round'\n};\nvar animation = '@keyframes rotate {\\n    100% {\\n        transform: rotate(360deg);\\n    }\\n}\\n@keyframes dash {\\n    0% {\\n        stroke-dasharray: 1,200;\\n        stroke-dashoffset: 0;\\n    }\\n    50% {\\n        stroke-dasharray: 89,200;\\n        stroke-dashoffset: -35px;\\n    }\\n    100% {\\n        stroke-dasharray: 89,200;\\n        stroke-dashoffset: -124px;\\n    }\\n}\\n@keyframes color {\\n    100%, 0% {\\n        stroke: #d62d20;\\n    }\\n    40% {\\n        stroke: #0057e7;\\n    }\\n    66% {\\n        stroke: #008744;\\n    }\\n    80%, 90% {\\n        stroke: #ffa700;\\n    }\\n}';\n\nvar Loading = function (_React$Component) {\n  _inherits(Loading, _React$Component);\n\n  function Loading() {\n    _classCallCheck(this, Loading);\n\n    return _possibleConstructorReturn(this, (Loading.__proto__ || Object.getPrototypeOf(Loading)).apply(this, arguments));\n  }\n\n  _createClass(Loading, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          component = _props.component,\n          className = _props.className,\n          isLoading = _props.isLoading,\n          children = _props.children;\n\n      if (isLoading) {\n        var _props2 = this.props,\n            width = _props2.width,\n            height = _props2.height,\n            margin = _props2.margin,\n            style = _props2.style,\n            strokeWidth = _props2.strokeWidth;\n        loading_style.width = width;\n        loading_style.height = height;\n        loading_style.margin = margin;\n        return React.createElement(component, {\n          style: Object.assign({}, loading_style, style)\n        }, React.createElement('style', null, animation), React.createElement('svg', {\n          style: svg_style,\n          viewBox: '25 25 50 50'\n        }, React.createElement('circle', {\n          style: circle_style,\n          cx: '50',\n          cy: '50',\n          r: '20',\n          fill: 'none',\n          strokeWidth: strokeWidth,\n          strokeMiterlimit: '10'\n        })));\n      } else {\n        return React.createElement(component, {\n          className: className\n        }, children || null);\n      }\n    }\n  }]);\n\n  return Loading;\n}(React.Component);\n\nLoading.propTypes = {\n  className: PropTypes.string,\n  isLoading: PropTypes.bool,\n  style: PropTypes.object,\n  width: PropTypes.string,\n  height: PropTypes.string,\n  margin: PropTypes.string,\n  component: PropTypes.any\n};\nLoading.defaultProps = {\n  className: '',\n  isLoading: true,\n  style: {},\n  width: '40px',\n  height: '40px',\n  margin: '0 auto',\n  component: 'div',\n  strokeWidth: '7'\n};\nmodule.exports = Loading; // Polyfills\n\nif (typeof Object.assign != 'function') {\n  Object.assign = function (target, varArgs) {\n    // .length of function is 2\n    'use strict';\n\n    if (target == null) {\n      // TypeError if undefined or null\n      throw new TypeError('Cannot convert undefined or null to object');\n    }\n\n    var to = Object(target);\n\n    for (var index = 1; index < arguments.length; index++) {\n      var nextSource = arguments[index];\n\n      if (nextSource != null) {\n        // Skip over if undefined or null\n        for (var nextKey in nextSource) {\n          // Avoid bugs when hasOwnProperty is shadowed\n          if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n            to[nextKey] = nextSource[nextKey];\n          }\n        }\n      }\n    }\n\n    return to;\n  };\n}"],"sourceRoot":""}